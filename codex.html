<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hello Codex</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: #fff;
  }
  #dot-container {
    position: relative;
  }
  .dot {
    position: absolute;
    width: 5px;
    height: 5px;
    background: #000;
    border-radius: 50%;
    animation: wave 1.5s ease-in-out infinite;
    animation-delay: var(--delay);
  }
  @keyframes wave {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
</style>
</head>
<body>
<div id="dot-container"></div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const text = 'Hello codex';
  const size = 5;          // size of each dot in pixels
  const grid = 16;         // 16x16 grid per letter
  const container = document.getElementById('dot-container');
  container.style.width = `${text.length * grid * size}px`;
  container.style.height = `${grid * size}px`;

  const off = document.createElement('canvas');
  off.width = grid;
  off.height = grid;
  const ctx = off.getContext('2d');
  ctx.font = `${grid}px monospace`;
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';

  for (let i = 0; i < text.length; i++) {
    const ch = text[i];
    ctx.clearRect(0, 0, grid, grid);
    ctx.fillText(ch, grid / 2, grid / 2);
    const data = ctx.getImageData(0, 0, grid, grid).data;
    for (let y = 0; y < grid; y++) {
      for (let x = 0; x < grid; x++) {
        const alpha = data[(y * grid + x) * 4 + 3];
        if (alpha > 128) {
          const dot = document.createElement('div');
          dot.className = 'dot';
          dot.style.left = `${(i * grid + x) * size}px`;
          dot.style.top = `${y * size}px`;
          const delay = (i * grid + x) * 0.03;
          dot.style.setProperty('--delay', `${delay}s`);
          container.appendChild(dot);
        }
      }
    }
  }
});
</script>
</body>
</html>
